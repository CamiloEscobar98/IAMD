# Manual Técnico para Desarrolladores de Software

## Aplicación para la Administración de los Activos Intangibles

#### Proceso de instalación del aplicativo.

Teniendo en cuenta que para esta aplicación es necesario php en una versión superior a 7.4, un gestor de bases de datos ya ses MySQL o PostgresSQL podemos empezar la instalación:

-   Si no estamos trabajando con Docker, y ya tenemos en el servidor Composer como manejador de dependencias, podemos ejecutar el siguiente comando `composer install`para así poder instalar todas las dependencias necesarias para el proyecto y para Laravel. Si estamos trabajando con contenedores Docker, debemos de configurar todo lo necesario para Docker y luego si ejecutar el comando.
-   Para empezar, podemos copiar los archivos **.env-example** a un nuevo archivo **.env** utilizando el comando `cp .env-example .env` para administrar todas las variables de entorno necesarias para la aplicación, y en el caso que se desee utilizar Docker a nivel productivo puedes utilizar el **docker-compose-example.yml** a un nuevo archivo **docker-compose.yml** utilizando el comando `cp docker-compose-example.yml docker-compose.yml` y modificarlo a tu gusto.
-   Después de hacerlo, debemos de ejecutar un comando que se utiliza para generar una clave única a tu aplicación. `php artisan key:generate`
-   Es necesario dentro del archivo **.env** cambiar dos variables. **APP_ENV** y **APP_DEBUG** para que se comporte a nivel de producción, con los siguientes valores **APP_ENV=production** y **APP_DEBUG=false** para evitar mostrar los errores de desarrollo. También es necesario camvbiar la variable **APP_URL** asignando la URL de la aplicación.
-   Después de esto, es necesario hacer otra modificación en el archivo **.env** cambiando los valores de las variables que están relacionadas con la base de datos, estas son: **DB_CONNECTION**, **DB_HOST**, **DB_PORT**, **DB_DATABASE**, **DB_USERNAME**, **DB_PASSWORD** por los valores correspondientes, en el caso de utilizar un motor de base de datos MySQL el valor de **DB_CONNECTION** debe de quedar así **DB_CONNECTION=mysql** y los demás valores dependerán de las credenciales para la conexión en la base de datos. Si se desea utilizar otro motor de base de datos, se debe de revisar la configuración dentro del archivo **/config/database.php**
-   Después de realizar esta configuración, hay que ejecutar las migraciones de la base de datos principal, esto se puede realizar ejecutando el comando `php artisan migrate` y luego el comando `php artisan db:seed DatabaseSeeder` es importante haber configurado el entorno de la aplicación para que este sea en producción. Si tiene algún tipo de error en la base de datos y aún no se ha implementado en producción, puede resetear la abse de datos sin problemas. Para eso puede leer sobre las migraciones en Laravel [Migraciones en Laravel](https://laravel.com/docs/9.x/migrations)
-   Después de esto, es necesario revisar la tabla de tenants dentro de la base de datos para poder configurar los dos clientes **ufps** y **ufpso** y la configuración de conexión a esas bases de datos.
-   Ya después de la configuración de esas dos bases de datos procedemos a ejecutar el comando `php artisan tenant:migrate ufps` siendo ufps el cliente, y para el cliente ufpso pues sencillamente cambiamos ufps por ufpso. Se debe de seguir todos los pasos para que así se instale todo lo necesario para esto. Recordando que si el entorno está en local o production cada uno tendrá una información diferente y por eso la importancia de tenerlo en production.

Con esto concluímos el proceso de instalación de la aplicación web.
